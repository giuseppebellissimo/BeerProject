{% extends "beerRecipe/base.html" %}
{% load crispy_forms_filters %}
{% load crispy_forms_tags %}

{% block content %}
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
        }

        .bg-glass {
            background-color: hsla(0, 0%, 100%, 0.9) !important;
            backdrop-filter: saturate(200%) blur(25px);
            width: 100%;
        }

        .centered-form {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .centered-form .card {
            width: 100%;
            max-width: 80%;
        }
    </style>

    <div class="centered-form">
        <div class="card bg-glass">
            <div class="card-body">
                <form class="row g-3" id="signupForm">
                    <h1 class="text-center mb-4">SignUp</h1>
                    <div class="col-md-4">
                        <label for="firstName" class="form-label">First name</label>
                        <input type="text" class="form-control" id="firstName" value="Mark" required>
                    </div>
                    <div class="col-md-4">
                        <label for="lastName" class="form-label">Last name</label>
                        <input type="text" class="form-control" id="lastName" value="Otto" required>
                    </div>
                    <div class="col-md-4">
                        <label for="dateBirth" class="form-label">Date of birth</label>
                        <input type="date" class="form-control" id="dateBirth" required>
                    </div>
                    <div class="col-md-4">
                        <label for="username" class="form-label">Username</label>
                        <div class="input-group">
                            <span class="input-group-text" id="inputGroupPrepend2">@</span>
                            <input type="text" class="form-control" id="username"
                                   aria-describedby="inputGroupPrepend2" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" required>
                    </div>
                    <div class="col-md-6">
                        <label for="password" class="form-label">Password</label>
                        <input type="password" id="password" class="form-control"
                               aria-describedby="passwordHelpBlock">
                        <div id="passwordHelpBlock" class="form-text">
                            Your password must be 8-20 characters long, contain letters and numbers, and must not
                            contain spaces, special characters, or emoji.
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="confirmPassword" class="form-label">Confirm password</label>
                        <input type="password" class="form-control" id="confirmPassword" required>
                    </div>
                    <div class="col-12">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="invalidCheck2" required>
                            <label class="form-check-label" for="invalidCheck2">
                                Agree to terms and conditions
                            </label>
                        </div>
                    </div>
                    <div class="col-12">
                        <button class="btn btn-primary" type="submit">Submit form</button>
                    </div>

                    <script>
                        document.getElementById('signupForm').addEventListener('submit', function (event) {
                            const password = document.getElementById('password').value;
                            const confirmPassword = document.getElementById('confirmPassword').value;

                            if (!validatePassword(password)) {
                                alert('Your password must be 8-20 characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji.');
                                event.preventDefault();
                            } else if (password !== confirmPassword) {
                                alert('Passwords do not match');
                                event.preventDefault();
                            }
                        });

                        function validatePassword(password) {
                            return password.length >= 8 && password.length <= 20 &&
                                /[A-Za-z]/.test(password) && /\d/.test(password) &&
                                !/\s/.test(password) && !/[^A-Za-z0-9]/.test(password);
                        }
                    </script>
                </form>
            </div>
        </div>
    </div>



{% endblock %}